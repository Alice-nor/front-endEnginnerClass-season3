{"ast":null,"code":"var _jsxFileName = \"/Users/Alice/Desktop/\\u524D\\u7AEF\\u990A\\u6210\\u7B2C\\u4E09\\u671F/0719-20 React/week4/myapp/src/App7.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: '',\n      a_val: '',\n      b_val: ''\n    };\n    this.getData = this.getData.bind(this);\n    this.postData = this.postData.bind(this);\n    this.formData = this.formData.bind(this);\n    this.changeA = this.changeA.bind(this);\n    this.changeB = this.changeB.bind(this);\n  } // get 讀取資料\n\n\n  getData() {\n    // fetch (url, {method:get..})\n    fetch('http://localhost/read_data.php?f=1', {\n      method: 'GET'\n    }).then(res => res.json()).then(data => {\n      console.log('data: ', data);\n\n      if (data['status'] === 'succ') {\n        this.setState({\n          content: data['result']\n        });\n      } else {\n        this.setState({\n          content: data['ERROR']\n        });\n      }\n    }).catch(err => {\n      console.log('Err:', err);\n    });\n  } // post 讀取資料\n\n\n  postData() {\n    // fetch (url, {method:get..})\n    fetch('http://localhost/read_data.php', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        a: this.state.a_val,\n        b: this.state.b_val\n      })\n    }).then(res => res.json()).then(data => {\n      console.log('data:', data);\n\n      if (data['status'] === 'succ') {\n        this.setState({\n          content: data['result']\n        });\n      } else {\n        this.setState({\n          content: data['ERROR']\n        });\n      }\n    }).catch(err => {\n      console.log('Err:', err);\n    });\n  }\n\n  formData() {\n    let data = {\n      a: this.state.a_val,\n      b: this.state.b_val\n    };\n    const formData = Object.keys(data).map(keyname => {\n      return encodeURIComponent(keyname) + '=' + encodeURIComponent(data[keyname]);\n    }).join('&');\n    fetch('http://localhost/read_data.php', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: formData\n    }).then(res => res.json()).then(data => {\n      console.log('data:', data);\n\n      if (data['status'] === 'succ') {\n        this.setState({\n          content: data['result']\n        });\n      } else {\n        this.setState({\n          content: data['ERROR']\n        });\n      }\n    }).catch(err => {\n      console.log('Err:', err);\n    });\n  }\n\n  changeA(e) {\n    this.setState({\n      a_val: e.target.value\n    });\n  }\n\n  changeB(e) {\n    this.setState({\n      b_val: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"a:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: this.state.a_val,\n        onChange: this.changeA\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 19\n      }, this), \"b:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: this.state.b_val,\n        onChange: this.changeB\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.getData,\n        children: \"Get Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 65\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.postData,\n        children: \"Post Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 67\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.formData,\n        children: \"Form Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 67\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.state.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/Alice/Desktop/前端養成第三期/0719-20 React/week4/myapp/src/App7.js"],"names":["React","Component","App","constructor","props","state","content","a_val","b_val","getData","bind","postData","formData","changeA","changeB","fetch","method","then","res","json","data","console","log","setState","catch","err","headers","body","JSON","stringify","a","b","Object","keys","map","keyname","encodeURIComponent","join","e","target","value","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n\nclass App extends Component {\n    constructor(props){\n        super(props);\n        this.state ={\n            content: '',\n            a_val: '',\n            b_val: ''\n        }\n\n        this.getData = this.getData.bind(this);\n        this.postData = this.postData.bind(this);\n        this.formData = this.formData.bind(this);\n        this.changeA = this.changeA.bind(this);\n        this.changeB = this.changeB.bind(this);\n\n    }\n\n    // get 讀取資料\n    getData(){\n        // fetch (url, {method:get..})\n        fetch('http://localhost/read_data.php?f=1',{method:'GET'})\n        .then(res => res.json())\n        .then(data => {\n            console.log('data: ',data);\n            if(data['status']==='succ'){\n                this.setState({content:data['result']});\n            }\n            else {\n                this.setState({content:data['ERROR']});\n            }  \n        })\n        .catch(err=> {\n            console.log('Err:',err);\n        })\n    }\n\n    // post 讀取資料\n    postData(){\n        // fetch (url, {method:get..})\n        fetch('http://localhost/read_data.php',{\n            method:'POST',\n            headers:{\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({a:this.state.a_val, b:this.state.b_val})\n        })\n        .then(res => res.json())\n        .then(data => {\n            console.log('data:',data);\n            if(data['status']==='succ'){\n                this.setState({content:data['result']});\n            }\n            else {\n                this.setState({content:data['ERROR']});\n            }  \n        })\n        .catch(err=>{\n            console.log('Err:',err);\n        })\n    }\n\n    formData(){\n        let data = {a:this.state.a_val, b:this.state.b_val};\n        const formData = Object.keys(data).map(\n            (keyname) => {\n                return encodeURIComponent(keyname)+'='+encodeURIComponent(data[keyname]);\n            }\n        ).join('&');\n\n        fetch('http://localhost/read_data.php',{\n            method:'POST',\n            headers:{\n                'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: formData\n        })\n        .then(res => res.json())\n        .then(data => {\n            console.log('data:',data);\n            if(data['status']==='succ'){\n                this.setState({content:data['result']});\n            }\n            else {\n                this.setState({content:data['ERROR']});\n            }  \n        })\n        .catch(err=>{\n            console.log('Err:',err);\n        })\n    }\n\n    changeA(e){\n        this.setState({a_val: e.target.value});\n    }\n\n    changeB(e){\n        this.setState({b_val: e.target.value});\n    }\n\n    render(){\n        return (\n            <div>\n                a:<input type='text' value={this.state.a_val} onChange={this.changeA}/>\n                b:<input type='text' value={this.state.b_val} onChange={this.changeB}/>\n\n                <br/>\n                <button onClick={this.getData}>Get Data</button><br/>\n                <button onClick={this.postData}>Post Data</button><br/>\n                <button onClick={this.formData}>Form Data</button><br/>\n                <p>{this.state.content}</p>\n            </div>\n           \n        )\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}