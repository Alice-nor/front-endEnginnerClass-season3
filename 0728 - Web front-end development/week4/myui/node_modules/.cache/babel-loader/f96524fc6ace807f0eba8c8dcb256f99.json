{"ast":null,"code":"var _jsxFileName = \"/Users/Alice/Desktop/\\u524D\\u7AEF\\u990A\\u6210\\u7B2C\\u4E09\\u671F/0719-21&23 React/week4/myui/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport './App.css';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport MyTable from './MyTable';\nimport Grid from '@material-ui/core/Grid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [text, setText] = useState('');\n  const [task, setTask] = useState([]); // 存 Todolist 的工作項目\n\n  const [done, setDone] = useState([]); // 儲存已做完項目\n\n  const handleClick = e => {\n    const list = task;\n    list.push(text);\n    setTask(list);\n    setText('');\n  };\n\n  const handleChange = e => {\n    setText(e.target.value);\n  };\n\n  const removeTask = index => {\n    console.log('remove task', index);\n    const list = task;\n    const new_list = list.slice(0, index).concat(list.slice(index + 1));\n    setTask(new_list);\n    const new_done = done;\n    new_done.push(task[index]);\n    setDone(new_done);\n  };\n\n  const removeDone = index => {\n    console.log('remove done', index);\n    const list = done;\n    const new_list = list.slice(0, index).concat(list.slice(index + 1));\n    setDone(new_list);\n  }; // 儲存資料\n\n\n  const handleSave = () => {\n    const data = {\n      task: task,\n      done: done\n    };\n    fetch('http://localhost/api/save_task.php', {\n      method: 'POST',\n      header: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(res => res.json).then(data => {\n      console.log('data: ', data); // if(data['status'] == 'succ') {\n      //   alert('存檔成功')\n      // } else {\n      //   alert('存檔失敗');\n      // }\n    }).catch(error => {\n      // 捕捉錯誤\n      alert('Error', error);\n    });\n  };\n\n  const removeAllTask = index => {\n    console.log('removeAllTask');\n\n    if (window.confirm('確定刪除？') === true) {\n      let list = task;\n      list = [];\n      setTask(list);\n    }\n  };\n\n  const removeAllDone = index => {\n    if (window.confirm('確定刪除？') === true) {\n      let list = done;\n      list = [];\n      setDone(list);\n    }\n  };\n\n  console.log('App => task = ', task);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '900px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          id: \"standard-basic\",\n          label: \"Task\",\n          value: text,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: handleClick,\n          style: {\n            verticalAlign: 'bottom'\n          },\n          children: \"\\u65B0\\u589E\\u5DE5\\u4F5C\\u9805\\u76EE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: handleSave,\n          style: {\n            verticalAlign: 'bottom'\n          },\n          children: \"\\u5132\\u5B58\\u5230\\u96F2\\u7AEF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: handleSave,\n          style: {\n            verticalAlign: 'bottom'\n          },\n          children: \"\\u5F9E\\u96F2\\u7AEF\\u4E0B\\u8F09\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: [/*#__PURE__*/_jsxDEV(MyTable, {\n          taskList: task,\n          handleClick: removeTask,\n          title: '未完成工作項目'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            background: 'red',\n            color: 'white'\n          },\n          onClick: removeAllTask,\n          children: \"\\u6E05\\u9664\\u672A\\u5B8C\\u6210\\u5DE5\\u4F5C\\u9805\\u76EE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: [/*#__PURE__*/_jsxDEV(MyTable, {\n          taskList: done,\n          handleClick: removeDone,\n          title: '已完成工作項目'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            background: 'green',\n            color: 'white'\n          },\n          onClick: removeAllDone,\n          children: \"\\u6E05\\u9664\\u5DF2\\u5B8C\\u6210\\u5DE5\\u4F5C\\u9805\\u76EE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"nISpwFAwvE24aYYs4+0Vs9euNcg=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/Alice/Desktop/前端養成第三期/0719-21&23 React/week4/myui/src/App.js"],"names":["useState","Button","TextField","MyTable","Grid","App","text","setText","task","setTask","done","setDone","handleClick","e","list","push","handleChange","target","value","removeTask","index","console","log","new_list","slice","concat","new_done","removeDone","handleSave","data","fetch","method","header","body","JSON","stringify","then","res","json","catch","error","alert","removeAllTask","window","confirm","removeAllDone","width","verticalAlign","background","color"],"mappings":"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","sourcesContent":["import {useState} from 'react';\nimport './App.css';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport MyTable from './MyTable';\nimport Grid from '@material-ui/core/Grid';\n\nfunction App() {\n  const [text, setText] = useState('');\n  const [task, setTask] = useState([]); // 存 Todolist 的工作項目\n  const [done, setDone] = useState([]); // 儲存已做完項目\n\n   const handleClick = (e) => {\n    const list = task;\n    list.push(text);\n    setTask(list);\n    setText('');\n  }\n\n  const handleChange = (e) => {\n    setText(e.target.value);\n  }\n\n  const removeTask = (index) => {\n    console.log('remove task',index);\n    const list = task;\n    const new_list = list.slice(0,index).concat(list.slice(index+1));\n    setTask(new_list);\n    const new_done = done;\n    new_done.push(task[index]);\n    setDone(new_done);\n  }\n\n  const removeDone = (index) => {\n    console.log('remove done',index);\n    const list = done;\n    const new_list = list.slice(0,index).concat(list.slice(index+1));\n    setDone(new_list);\n  }\n\n  // 儲存資料\n  const handleSave = () => {\n    const data = {\n      task: task,\n      done: done\n    };\n\n    fetch('http://localhost/api/save_task.php',{\n      method: 'POST',\n      header: {\n        'Content-Type' : 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    .then(res => res.json)\n    .then(data => {\n      console.log('data: ',data)\n      // if(data['status'] == 'succ') {\n      //   alert('存檔成功')\n      // } else {\n      //   alert('存檔失敗');\n      // }\n    })\n    .catch(error => { // 捕捉錯誤\n      alert('Error',error);\n    })\n  }\n\n\n\n  const removeAllTask = (index) => {\n    console.log('removeAllTask')\n    if(window.confirm('確定刪除？')===true){\n      let list = task;\n      list = [];\n      setTask(list);\n    }\n  }\n\n\n  const removeAllDone = (index) => {\n    if(window.confirm('確定刪除？')===true){\n      let list = done;\n      list = [];\n      setDone(list);\n    }\n  }\n\n  console.log('App => task = ',task);\n  return (\n    <div style={{width:'900px'}}>\n      {/* <TextField id=\"standard-basic\" label=\"Task\" value={text} onChange={handleChange} />\n      <Button variant=\"outlined\" onClick={handleClick} style={{verticalAlign: 'bottom'}}>{buttonFace}</Button>\n      <p>{content}</p>\n      <MyTable taskList={task} handleClick={removeTask}/> */}\n\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <TextField id='standard-basic' label='Task'\n            value={text} onChange={handleChange}></TextField>\n          <Button variant='outlined'\n            onClick={handleClick}\n            style={{verticalAlign:'bottom'}}>新增工作項目</Button>\n          <Button variant='outlined'\n            onClick={handleSave}\n            style={{verticalAlign:'bottom'}}>儲存到雲端</Button>\n          <Button variant='outlined'\n            onClick={handleSave}\n            style={{verticalAlign:'bottom'}}>從雲端下載</Button>\n        </Grid>\n\n        <Grid item xs={6}>\n          <MyTable taskList={task} handleClick={removeTask} title={'未完成工作項目'}></MyTable>\n          <Button style={{background:'red',color:'white'}} onClick={removeAllTask}>清除未完成工作項目</Button>\n        </Grid>\n        <Grid item xs={6}>\n          <MyTable taskList={done} handleClick={removeDone} title={'已完成工作項目'}></MyTable>\n          <Button style={{background:'green',color:'white'}} onClick={removeAllDone}>清除已完成工作項目</Button>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}