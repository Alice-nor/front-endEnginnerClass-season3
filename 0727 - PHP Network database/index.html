<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alice's notes | frond-end Class</title>
    <link rel="stylesheet" href="../style.css">
</head>

<body>

    <div class="container">

        <div class="book">
            <h1 class="h1"><a href="../index.html">Alice's<br>notes</a></h1>
            <!-- 右邊標籤區 -->
            <div class="link">
                <!-- 六月的分頁 -->
                <a href="../indexJune.html">六月</a>
                <!-- 七月的分頁 -->
                <a href="../indexJuly.html">七月</a>
                <!-- 八月的分頁 -->
                <a href="../indexAug.html">八月</a>
            </div>

            <!-- 中央筆記區 -->
            <div class="text">
                <!-- 抄筆記 -->
                <p class="date">2021/07/27 PHP Network database</p>

                <article>
                    <h2 class="title">PHP</h2>
                    <p>資料庫 -</p>
                    <ul>
                        <li>資料庫（Database）是一種資料儲存單位，一些經過組織的資料集合，眾多出勤管理系統、倉庫管理系統、進銷存系統或小至錄影帶店管理系統，這些應用程式都屬於不同應用的資料庫系統。</li>
                        <li><span>資料庫系統是由資料庫和資料庫管理系統所組成</span>，資料庫管理系統是一套管理資料庫的應用程式。</li>
                        <li>關聯式資料庫系統（Relational Database System）是目前資料庫系統的主流。（ex:MySQL）</li>
                        <li>使用者下達 SQL 結構化查詢語言，透過資料庫管理系統來儲存和管理資料庫儲存的資料。<span>開發資料庫系統就是在設計資料庫、建立應用程式使用介面和決策架構</span>，針對需求設計資料庫，資料庫管理系統本身只負責管理和存取資料庫，作為應用系統的資料來源。</li>
                    </ul><br>

                    <p>關聯式資料庫 - </p>
                    <ul>
                        <li>由一個或多個資料表所組成</li>
                        <li>多個資料表間使用欄位的資料值來建立連接，以便實作資料表間的關聯性</li>
                        <li>資料表需要選擇<span>「主鍵」（Primary Key）</span>，這是用來識別資料表唯一記錄的欄位資料</li>
                        <li>資料庫儲存資料的目的是為了提昇排序和查詢效率，在資料表可以使用「索引」（Index）將資料系統化整理，以便在大量記錄中快速找到記錄或進行排序</li>
                    </ul><br>

                    <p>PRIMARY Key (PK) (主鍵)</p>
                    <ul>
                        <li>index 但不能為空值 (NULL)，PK 會自動建立 index 每個 table 只能有一個 PRIMARY Key（建議）</li>
                        <li>index 建立會占用儲存空間，資料增刪修時會異動。欄位長度是越短越好</li>
                    </ul><br>

                    <p>在 PHP 程式是呼叫 mysqli_connect() 函數來開啟與建立MySQL 資料庫連接，如下所示：</p>
                    <textarea readonly class="code" style="height:90px">
    $link = @mysqli_connect( 
        'localhost',  // MySQL主機名稱 
        'root',       // 使用者名稱 
        'A12345678',  // 密碼
        'myschool');  // 預設使用的資料庫名稱
                    </textarea>
                    <p>在 PHP 程式是呼叫 mysqli_close() 函數來關閉 MySQL 資料庫連接和釋放資料庫連接資源佔用的記憶體空間，如下所示：</p>
                    <textarea readonly class="code" style="height:15px">
    mysqli_close($link);
                    </textarea>
                    <p>在 React 學 php 連資料庫時總是霧煞煞，今天用簡單的程式連接就很清楚了！</p>
                    <img src="../img/0727.png">

                    <p>PHP 在成功開啟資料庫連接後，就可以呼叫 mysqli_query() 函數執行 SQL 指令的資料表查詢，如下所示：</p>
                    <textarea readonly class="code" style="height:15px">
    if ( $result = mysqli_query($link, $sql) ) { … }
                    </textarea>

                    <p>在取得結果物件後，就可以呼叫相關函數取出記錄資料或將記錄資料儲存成陣列。我們可以呼叫 <span>mysqli_fetch_assoc()</span> 函數將查詢結果的每一筆記錄存入結合陣列，如下所示：</p>
                    <textarea readonly class="code" style="height:40px">
    while( $row = mysqli_fetch_assoc($result) ){ 
        echo $row["sno"]."-".$row["name"]."<br/>";
        }
                    </textarea>

                    <p>資料表查詢結果的結果物件會佔用伺服器的記憶體空間，當不再需要結果物件時，請記得<span>自行釋放佔用的記憶體空間，以免浪費伺服器的寶貴資源</span>。</p>
                    <p>PHP 是呼叫 mysqli_free_result() 函數釋放結果物件 ($result) 佔用的記憶體空間，如下所示：</p>
                    <textarea readonly class="code" style="height:15px">
    mysqli_free_result($result); 
                    </textarea>
                </article>



                <article>
                    <h2 class="title">Summary</h2>
                    <p>今天學 php！能夠成功跟後端資料庫連接到真的很有成就感，也覺得很有趣！與資料庫的連接比我想像中簡單好多，上傳與新增檔案也並不困難，接著要再努力自學關於 cookie、session 更深入的內容！
                    </p>
                </article>


            </div>
        </div>
    </div>
    <footer>
        &copy; Copyright 2021 Alice 學習筆記 <a href="https://github.com/Alice-nor/front-endEnginnerClass-season3">Github</a>
    </footer>
</body>

</html>