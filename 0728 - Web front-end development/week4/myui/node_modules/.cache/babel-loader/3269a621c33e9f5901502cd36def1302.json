{"ast":null,"code":"import _slicedToArray from\"/Users/Alice/Desktop/\\u524D\\u7AEF\\u990A\\u6210\\u7B2C\\u4E09\\u671F/0719-21&23 React/week4/myui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import'./App.css';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import MyTable from'./MyTable';import Grid from'@material-ui/core/Grid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),task=_useState4[0],setTask=_useState4[1];// 存 Todolist 的工作項目\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),done=_useState6[0],setDone=_useState6[1];// 儲存已做完項目\nvar _useState7=useState('資料讀取中...'),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var handleClick=function handleClick(e){var list=task;list.push(text);setTask(list);setText('');};var handleChange=function handleChange(e){setText(e.target.value);};var removeTask=function removeTask(index){console.log('remove task',index);var list=task;var new_list=list.slice(0,index).concat(list.slice(index+1));setTask(new_list);var new_done=done;new_done.push(task[index]);setDone(new_done);};var removeDone=function removeDone(index){console.log('remove done',index);var list=done;var new_list=list.slice(0,index).concat(list.slice(index+1));setDone(new_list);};// 儲存資料\nvar handleSave=function handleSave(){var data={task:task,done:done};fetch('http://localhost/api/save_task.php',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(res){return res.json();}).then(function(data){console.log('data: ',data);// if(data['status'] === 'succ') {\n//   alert('存檔成功')\n// } else {\n//   alert('存檔失敗');\n// }\n}).catch(function(error){// 捕捉錯誤\nalert('Error',error);console.log('data error:',data);});};// 從雲端下載\nvar handleLoad=function handleLoad(){fetch('http://localhost/api/load_task.php',{method:'GET'}).then(function(res){return res.json();}).then(function(data){console.log('data: ',data);setTask(data['task']);setDone(data['done']);// if(data['status'] == 'succ') {\n//   alert('存檔成功')\n// } else {\n//   alert('存檔失敗');\n// }\n}).catch(function(error){// 捕捉錯誤\nalert('Error',error);});};var removeAllTask=function removeAllTask(index){console.log('removeAllTask');if(window.confirm('確定刪除？')===true){var list=task;list=[];setTask(list);}};var removeAllDone=function removeAllDone(index){if(window.confirm('確定刪除？')===true){var list=done;list=[];setDone(list);}};// componentDidMount\n// useEffect(() => {\n//   console.log('useEffect');\n//   handleLoad();\n//   if(status !== ''){\n//     setStatus('');\n//   }\n// },[]);\nconsole.log('App => task = ',task);return/*#__PURE__*/_jsx(\"div\",{style:{width:'900px'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{id:\"standard-basic\",label:\"Task\",value:text,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:handleClick,style:{verticalAlign:'bottom'},children:\"\\u65B0\\u589E\\u5DE5\\u4F5C\\u9805\\u76EE\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:handleSave,style:{verticalAlign:'bottom'},children:\"\\u5132\\u5B58\\u5230\\u96F2\\u7AEF\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:handleLoad,style:{verticalAlign:'bottom'},children:\"\\u5F9E\\u96F2\\u7AEF\\u4E0B\\u8F09\"}),/*#__PURE__*/_jsx(\"br\",{}),status]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(MyTable,{taskList:task,handleClick:removeTask,title:'未完成工作項目'}),/*#__PURE__*/_jsx(Button,{style:{background:'red',color:'white'},onClick:removeAllTask,children:\"\\u6E05\\u9664\\u672A\\u5B8C\\u6210\\u5DE5\\u4F5C\\u9805\\u76EE\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(MyTable,{taskList:done,handleClick:removeDone,title:'已完成工作項目'}),/*#__PURE__*/_jsx(Button,{style:{background:'green',color:'white'},onClick:removeAllDone,children:\"\\u6E05\\u9664\\u5DF2\\u5B8C\\u6210\\u5DE5\\u4F5C\\u9805\\u76EE\"})]})]})});}export default App;","map":{"version":3,"sources":["/Users/Alice/Desktop/前端養成第三期/0719-21&23 React/week4/myui/src/App.js"],"names":["useState","useEffect","Button","TextField","MyTable","Grid","App","text","setText","task","setTask","done","setDone","status","setStatus","handleClick","e","list","push","handleChange","target","value","removeTask","index","console","log","new_list","slice","concat","new_done","removeDone","handleSave","data","fetch","method","headers","body","JSON","stringify","then","res","json","catch","error","alert","handleLoad","removeAllTask","window","confirm","removeAllDone","width","verticalAlign","background","color"],"mappings":"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","sourcesContent":["import {useState, useEffect} from 'react';\nimport './App.css';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport MyTable from './MyTable';\nimport Grid from '@material-ui/core/Grid';\n\n\nfunction App() {\n  const [text, setText] = useState('');\n  const [task, setTask] = useState([]); // 存 Todolist 的工作項目\n  const [done, setDone] = useState([]); // 儲存已做完項目\n  const [status, setStatus] = useState('資料讀取中...');\n\n   const handleClick = (e) => {\n    const list = task;\n    list.push(text);\n    setTask(list);\n    setText('');\n  }\n\n  const handleChange = (e) => {\n    setText(e.target.value);\n  }\n\n  const removeTask = (index) => {\n    console.log('remove task',index);\n    const list = task;\n    const new_list = list.slice(0,index).concat(list.slice(index+1));\n    setTask(new_list);\n    const new_done = done;\n    new_done.push(task[index]);\n    setDone(new_done);\n  }\n\n  const removeDone = (index) => {\n    console.log('remove done',index);\n    const list = done;\n    const new_list = list.slice(0,index).concat(list.slice(index+1));\n    setDone(new_list);\n  }\n\n  // 儲存資料\n  const handleSave = () => {\n    const data = {\n      task: task,\n      done: done\n    };\n\n    fetch('http://localhost/api/save_task.php',{\n      method: 'POST',\n      headers: {\n        'Content-Type' : 'application/json',\n      },\n      body: JSON.stringify(data)\n    })\n    .then(res => res.json())\n    .then(data => {\n      console.log('data: ',data)\n      // if(data['status'] === 'succ') {\n      //   alert('存檔成功')\n      // } else {\n      //   alert('存檔失敗');\n      // }\n    })\n    .catch(error => { // 捕捉錯誤\n      alert('Error',error);\n      console.log('data error:',data);\n    })\n  }\n\n  // 從雲端下載\n  const handleLoad = () => {\n    fetch('http://localhost/api/load_task.php',{\n      method: 'GET',\n    })\n    .then(res => {\n      return res.json();\n    })\n    .then(data => {\n      console.log('data: ',data);\n      setTask(data['task']);\n      setDone(data['done']);\n      // if(data['status'] == 'succ') {\n      //   alert('存檔成功')\n      // } else {\n      //   alert('存檔失敗');\n      // }\n    })\n    .catch(error => { // 捕捉錯誤\n      alert('Error',error);\n    })\n  }\n\n\n  const removeAllTask = (index) => {\n    console.log('removeAllTask')\n    if(window.confirm('確定刪除？')===true){\n      let list = task;\n      list = [];\n      setTask(list);\n    }\n  }\n\n\n  const removeAllDone = (index) => {\n    if(window.confirm('確定刪除？')===true){\n      let list = done;\n      list = [];\n      setDone(list);\n    }\n  }\n\n  // componentDidMount\n  // useEffect(() => {\n  //   console.log('useEffect');\n  //   handleLoad();\n  //   if(status !== ''){\n  //     setStatus('');\n  //   }\n  // },[]);\n\n\n\n  console.log('App => task = ',task);\n  return (\n    <div style={{width:'900px'}}>\n      {/* <TextField id=\"standard-basic\" label=\"Task\" value={text} onChange={handleChange} />\n      <Button variant=\"outlined\" onClick={handleClick} style={{verticalAlign: 'bottom'}}>{buttonFace}</Button>\n      <p>{content}</p>\n      <MyTable taskList={task} handleClick={removeTask}/> */}\n\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <TextField id='standard-basic' label='Task'\n            value={text} onChange={handleChange}></TextField>\n          <Button variant='outlined'\n            onClick={handleClick}\n            style={{verticalAlign:'bottom'}}>新增工作項目</Button>\n          <Button variant='outlined'\n            onClick={handleSave}\n            style={{verticalAlign:'bottom'}}>儲存到雲端</Button>\n          <Button variant='outlined'\n            onClick={handleLoad}\n            style={{verticalAlign:'bottom'}}>從雲端下載</Button>\n            <br/>{status}\n        </Grid>\n\n        <Grid item xs={6}>\n          <MyTable taskList={task} handleClick={removeTask} title={'未完成工作項目'}></MyTable>\n          <Button style={{background:'red',color:'white'}} onClick={removeAllTask}>清除未完成工作項目</Button>\n        </Grid>\n        <Grid item xs={6}>\n          <MyTable taskList={done} handleClick={removeDone} title={'已完成工作項目'}></MyTable>\n          <Button style={{background:'green',color:'white'}} onClick={removeAllDone}>清除已完成工作項目</Button>\n        </Grid>\n      </Grid>\n\n    </div>\n\n\n  );\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}