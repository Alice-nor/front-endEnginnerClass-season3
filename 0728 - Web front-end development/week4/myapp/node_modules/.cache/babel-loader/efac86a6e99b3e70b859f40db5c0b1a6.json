{"ast":null,"code":"import _classCallCheck from\"/Users/Alice/Desktop/\\u524D\\u7AEF\\u990A\\u6210\\u7B2C\\u4E09\\u671F/0719-21&23 React/week4/myapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Alice/Desktop/\\u524D\\u7AEF\\u990A\\u6210\\u7B2C\\u4E09\\u671F/0719-21&23 React/week4/myapp/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Alice/Desktop/\\u524D\\u7AEF\\u990A\\u6210\\u7B2C\\u4E09\\u671F/0719-21&23 React/week4/myapp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Alice/Desktop/\\u524D\\u7AEF\\u990A\\u6210\\u7B2C\\u4E09\\u671F/0719-21&23 React/week4/myapp/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Alice/Desktop/\\u524D\\u7AEF\\u990A\\u6210\\u7B2C\\u4E09\\u671F/0719-21&23 React/week4/myapp/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={content:'',a_val:'',b_val:''};_this.getData=_this.getData.bind(_assertThisInitialized(_this));_this.postData=_this.postData.bind(_assertThisInitialized(_this));_this.formData=_this.formData.bind(_assertThisInitialized(_this));_this.changeA=_this.changeA.bind(_assertThisInitialized(_this));_this.changeB=_this.changeB.bind(_assertThisInitialized(_this));return _this;}// get 讀取資料\n_createClass(App,[{key:\"getData\",value:function getData(){var _this2=this;// fetch (url, {method:get..})\nfetch('http://localhost/read_data.php?f=2&a='+this.state.a_val+'&b='+this.state.b_val,{method:'GET'}).then(function(res){return res.json();}).then(function(data){console.log('data: ',data);if(data['status']==='succ'){_this2.setState({content:data['result']});}else{_this2.setState({content:data['ERROR']});}}).catch(function(err){console.log('Err:',err);});}// post 讀取資料\n},{key:\"postData\",value:function postData(){var _this3=this;// fetch (url, {method:get..})\nfetch('http://localhost/read_data.php',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({a:this.state.a_val,b:this.state.b_val})}).then(function(res){return res.json();}).then(function(data){console.log('data:',data);if(data['status']==='succ'){_this3.setState({content:data['result']});}else{_this3.setState({content:data['ERROR']});}}).catch(function(err){console.log('Err:',err);});}},{key:\"formData\",value:function formData(){var _this4=this;var data={a:this.state.a_val,b:this.state.b_val};var formData=Object.keys(data).map(function(keyname){return encodeURIComponent(keyname)+'='+encodeURIComponent(data[keyname]);}).join('&');fetch('http://localhost/read_data.php',{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:formData}).then(function(res){return res.json();}).then(function(data){console.log('data:',data);if(data['status']==='succ'){_this4.setState({content:data['result']});}else{_this4.setState({content:data['ERROR']});}}).catch(function(err){console.log('Err:',err);});}},{key:\"changeA\",value:function changeA(e){this.setState({a_val:e.target.value});}},{key:\"changeB\",value:function changeB(e){this.setState({b_val:e.target.value});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[\"a:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.a_val,onChange:this.changeA}),/*#__PURE__*/_jsx(\"br\",{}),\"b:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.b_val,onChange:this.changeB}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.getData,children:\"Get Data\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.postData,children:\"Post Data\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.formData,children:\"Form Data\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:this.state.content})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/Alice/Desktop/前端養成第三期/0719-21&23 React/week4/myapp/src/App7.js"],"names":["React","Component","App","props","state","content","a_val","b_val","getData","bind","postData","formData","changeA","changeB","fetch","method","then","res","json","data","console","log","setState","catch","err","headers","body","JSON","stringify","a","b","Object","keys","map","keyname","encodeURIComponent","join","e","target","value"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n\nclass App extends Component {\n    constructor(props){\n        super(props);\n        this.state ={\n            content: '',\n            a_val: '',\n            b_val: ''\n        }\n\n        this.getData = this.getData.bind(this);\n        this.postData = this.postData.bind(this);\n        this.formData = this.formData.bind(this);\n        this.changeA = this.changeA.bind(this);\n        this.changeB = this.changeB.bind(this);\n\n    }\n\n    // get 讀取資料\n    getData(){\n        // fetch (url, {method:get..})\n        fetch('http://localhost/read_data.php?f=2&a='+this.state.a_val+'&b='+this.state.b_val,{method:'GET'})\n        .then(res => res.json())\n        .then(data => {\n            console.log('data: ',data);\n            if (data['status']==='succ'){\n                this.setState({content:data['result']});\n            }\n            else {\n                this.setState({content:data['ERROR']});\n            }  \n        })\n        .catch(err=> {\n            console.log('Err:',err);\n        })\n    }\n\n    // post 讀取資料\n    postData(){\n        // fetch (url, {method:get..})\n        fetch('http://localhost/read_data.php',{\n            method:'POST',\n            headers:{\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({a:this.state.a_val, b:this.state.b_val})\n        })\n        .then(res => res.json())\n        .then(data => {\n            console.log('data:',data);\n            if(data['status']==='succ'){\n                this.setState({content:data['result']});\n            }\n            else {\n                this.setState({content:data['ERROR']});\n            }  \n        })\n        .catch(err=>{\n            console.log('Err:',err);\n        })\n    }\n\n    formData(){\n        let data = {\n            a:this.state.a_val,\n            b:this.state.b_val};\n        const formData = Object.keys(data).map(\n            (keyname) => {\n                return encodeURIComponent(keyname)+'='+encodeURIComponent(data[keyname]);\n            }\n        ).join('&');\n\n        fetch('http://localhost/read_data.php',{\n            method:'POST',\n            headers:{\n                'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: formData\n        })\n        .then(res => res.json())\n        .then(data => {\n            console.log('data:',data);\n            if(data['status']==='succ'){\n                this.setState({content:data['result']});\n            }\n            else {\n                this.setState({content:data['ERROR']});\n            }  \n        })\n        .catch(err=>{\n            console.log('Err:',err);\n        })\n    }\n\n    changeA(e){\n        this.setState({a_val: e.target.value});\n    }\n\n    changeB(e){\n        this.setState({b_val: e.target.value});\n    }\n\n    render(){\n        return (\n            <div>\n                a:<input type='text' value={this.state.a_val} onChange={this.changeA}/><br/>\n                b:<input type='text' value={this.state.b_val} onChange={this.changeB}/><br/>\n\n                <button onClick={this.getData}>Get Data</button><br/>\n                <button onClick={this.postData}>Post Data</button><br/>\n                <button onClick={this.formData}>Form Data</button><br/>\n                <p>{this.state.content}</p>\n            </div>\n           \n        )\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}